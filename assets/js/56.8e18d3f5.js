"use strict";(self.webpackChunkotter_guides=self.webpackChunkotter_guides||[]).push([[56],{3905:(n,t,e)=>{e.d(t,{Zo:()=>c,kt:()=>d});var i=e(7294);function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){o(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function s(n,t){if(null==n)return{};var e,i,o=function(n,t){if(null==n)return{};var e,i,o={},r=Object.keys(n);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}var u=i.createContext({}),l=function(n){var t=i.useContext(u),e=t;return n&&(e="function"==typeof n?n(t):a(a({},t),n)),e},c=function(n){var t=l(n.components);return i.createElement(u.Provider,{value:t},n.children)},p="mdxType",f={inlineCode:"code",wrapper:function(n){var t=n.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(n,t){var e=n.components,o=n.mdxType,r=n.originalType,u=n.parentName,c=s(n,["components","mdxType","originalType","parentName"]),p=l(e),m=o,d=p["".concat(u,".").concat(m)]||p[m]||f[m]||r;return e?i.createElement(d,a(a({ref:t},c),{},{components:e})):i.createElement(d,a({ref:t},c))}));function d(n,t){var e=arguments,o=t&&t.mdxType;if("string"==typeof n||o){var r=e.length,a=new Array(r);a[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=n,s[p]="string"==typeof n?n:o,a[1]=s;for(var l=2;l<r;l++)a[l]=e[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,e)}m.displayName="MDXCreateElement"},6126:(n,t,e)=>{e.d(t,{Uv:()=>pn,d$:()=>un});var i=e(7294),o=function(n,t){return Number(n.toFixed(t))},r=function(n,t,e){e&&"function"==typeof e&&e(n,t)},a={easeOut:function(n){return-Math.cos(n*Math.PI)/2+.5},linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}},s=function(n){"number"==typeof n&&cancelAnimationFrame(n)},u=function(n){n.mounted&&(s(n.animation),n.animate=!1,n.animation=null,n.velocity=null)};function l(n,t,e,i){if(n.mounted){var o=(new Date).getTime();u(n),n.animation=function(){if(!n.mounted)return s(n.animation);var r=(new Date).getTime()-o,u=r/e,l=(0,a[t])(u);r>=e?(i(1),n.animation=null):n.animation&&(i(l),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation)}}function c(n,t,e,i){var o=function(n){var t=n.scale,e=n.positionX,i=n.positionY;return!(Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(i))}(t);if(n.mounted&&o){var r=n.setTransformState,a=n.transformState,s=a.scale,u=a.positionX,c=a.positionY,p=t.scale-s,f=t.positionX-u,m=t.positionY-c;0===e?r(t.scale,t.positionX,t.positionY):l(n,i,e,(function(n){r(s+p*n,u+f*n,c+m*n)}))}}var p=function(n,t){var e=n.wrapperComponent,i=n.contentComponent,o=n.setup.centerZoomedOut;if(!e||!i)throw new Error("Components are not mounted");var r=function(n,t,e){var i=n.offsetWidth,o=n.offsetHeight,r=t.offsetWidth*e,a=t.offsetHeight*e;return{wrapperWidth:i,wrapperHeight:o,newContentWidth:r,newDiffWidth:i-r,newContentHeight:a,newDiffHeight:o-a}}(e,i,t),a=r.wrapperWidth,s=r.wrapperHeight,u=function(n,t,e,i,o,r,a){var s=n>t?e*(a?1:.5):0,u=i>o?r*(a?1:.5):0;return{minPositionX:n-t-s,maxPositionX:s,minPositionY:i-o-u,maxPositionY:u}}(a,r.newContentWidth,r.newDiffWidth,s,r.newContentHeight,r.newDiffHeight,Boolean(o));return u},f=function(n,t,e,i){return o(i?n<t?t:n>e?e:n:n,2)},m=function(n,t){var e=p(n,t);return n.bounds=e,e};function d(n,t,e,i,o,r,a){var s=e.minPositionX,u=e.minPositionY,l=e.maxPositionX,c=e.maxPositionY,p=0,m=0;return a&&(p=o,m=r),{x:f(n,s-p,l+p,i),y:f(t,u-m,c+m,i)}}function v(n,t,e,i,o,r){var a=n.transformState,s=a.scale,u=a.positionX,l=a.positionY,c=i-s;return"number"!=typeof t||"number"!=typeof e?(console.error("Mouse X and Y position were not provided!"),{x:u,y:l}):d(u-t*c,l-e*c,o,r,0,0,null)}function h(n,t,e,i,o){var r=t-(o?i:0);return!Number.isNaN(e)&&n>=e?e:!Number.isNaN(t)&&n<=r?r:n}var g=function(n,t){var e=n.setup.panning.excluded,i=n.isInitialized,o=n.wrapperComponent,r=t.target,a=null==o?void 0:o.contains(r);return!!(i&&r&&a)&&!U(r,e)},y=function(n){var t=n.isInitialized,e=n.isPanning,i=n.setup.panning.disabled;return!(!t||!e||i)};var S=function(n,t){var e=n.setup,i=n.transformState.scale,o=e.minScale,r=e.disablePadding;return t>0&&i>=o&&!r?t:0},b=function(n){var t=n.mounted,e=n.setup,i=e.disabled,o=e.velocityAnimation,r=n.transformState.scale;return!(o.disabled&&!(r>1)&&i&&!t)},w=function(n){var t=n.mounted,e=n.velocity,i=n.bounds,o=n.setup,r=o.disabled,a=o.velocityAnimation,s=n.transformState.scale;return!(a.disabled&&!(s>1)&&r&&!t)&&!(!e||!i)};function P(n,t,e,i,o,r,a,s,u,l){if(o){var c;if(t>a&&e>a)return(c=a+(n-a)*l)>u?u:c<a?a:c;if(t<r&&e<r)return(c=r+(n-r)*l)<s?s:c>r?r:c}return i?t:f(n,r,a,o)}function C(n,t){if(b(n)){var e=n.lastMousePosition,i=n.velocityTime,o=n.setup,r=n.wrapperComponent,a=o.velocityAnimation.equalToMove,s=Date.now();if(e&&i&&r){var u=function(n,t){return t?Math.min(1,n.offsetWidth/window.innerWidth):1}(r,a),l=t.x-e.x,c=t.y-e.y,p=l/u,f=c/u,m=s-i,d=l*l+c*c,v=Math.sqrt(d)/m;n.velocity={velocityX:p,velocityY:f,total:v}}n.lastMousePosition=t,n.velocityTime=s}}function T(n,t){var e=n.transformState.scale;u(n),m(n,e),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(n,t){var e=t.touches,i=n.transformState,o=i.positionX,r=i.positionY;if(n.isPanning=!0,1===e.length){var a=e[0].clientX,s=e[0].clientY;n.startCoords={x:a-o,y:s-r}}}(n,t):function(n,t){var e=n.transformState,i=e.positionX,o=e.positionY;n.isPanning=!0;var r=t.clientX,a=t.clientY;n.startCoords={x:r-i,y:a-o}}(n,t)}function x(n){var t=n.transformState.scale,e=n.setup,i=e.minScale,o=e.alignmentAnimation,r=o.disabled,a=o.sizeX,s=o.sizeY,u=o.animationTime,l=o.animationType;if(!(r||t<i||!a&&!s)){var p=function(n){var t=n.transformState,e=t.positionX,i=t.positionY,o=t.scale,r=n.setup,a=r.disabled,s=r.limitToBounds,u=r.centerZoomedOut,l=n.wrapperComponent;if(!a&&l&&n.bounds){var c=n.bounds,p=c.maxPositionX,f=c.minPositionX,m=c.maxPositionY,d=c.minPositionY,h=e>p||e<f,g=i>m||i<d,y=v(n,e>p?l.offsetWidth:n.setup.minPositionX||0,i>m?l.offsetHeight:n.setup.minPositionY||0,o,n.bounds,s||u),S=y.x,b=y.y;return{scale:o,positionX:h?S:e,positionY:g?b:i}}}(n);p&&c(n,p,u,l)}}function E(n,t,e){var i=n.startCoords,o=n.setup.alignmentAnimation,r=o.sizeX,a=o.sizeY;if(i){var s=function(n,t,e){var i=n.startCoords,o=n.transformState,r=n.setup.panning,a=r.lockAxisX,s=r.lockAxisY,u=o.positionX,l=o.positionY;if(!i)return{x:u,y:l};var c=t-i.x,p=e-i.y;return{x:a?u:c,y:s?l:p}}(n,t,e),u=s.x,l=s.y,c=S(n,r),p=S(n,a);C(n,{x:u,y:l}),function(n,t,e,i,o){var r=n.setup.limitToBounds,a=n.wrapperComponent,s=n.bounds,u=n.transformState,l=u.scale,c=u.positionX,p=u.positionY;if(null!==a&&null!==s&&(t!==c||e!==p)){var f=d(t,e,s,r,i,o,a),m=f.x,v=f.y;n.setTransformState(l,m,v)}}(n,u,l,c,p)}}function Y(n){if(n.isPanning){var t=n.setup.panning.velocityDisabled,e=n.velocity,i=n.wrapperComponent,o=n.contentComponent;n.isPanning=!1,n.animate=!1,n.animation=null;var r=null==i?void 0:i.getBoundingClientRect(),s=null==o?void 0:o.getBoundingClientRect(),u=(null==r?void 0:r.width)||0,c=(null==r?void 0:r.height)||0,p=(null==s?void 0:s.width)||0,f=(null==s?void 0:s.height)||0,m=u<p||c<f;!t&&e&&(null==e?void 0:e.total)>.1&&m?function(n){var t=n.velocity,e=n.bounds,i=n.setup,o=n.wrapperComponent;if(w(n)&&t&&e&&o){var r=t.velocityX,s=t.velocityY,u=t.total,c=e.maxPositionX,p=e.minPositionX,f=e.maxPositionY,m=e.minPositionY,d=i.limitToBounds,v=i.alignmentAnimation,h=i.zoomAnimation,g=i.panning,y=g.lockAxisY,b=g.lockAxisX,C=h.animationType,T=v.sizeX,x=v.sizeY,E=v.velocityAlignmentTime,Y=function(n,t){var e=n.setup.velocityAnimation,i=e.equalToMove,o=e.animationTime,r=e.sensitivity;return i?o*t*r:o}(n,u),O=Math.max(Y,E),X=S(n,T),N=S(n,x),z=X*o.offsetWidth/100,D=N*o.offsetHeight/100,k=c+z,A=p-z,W=f+D,I=m-D,M=n.transformState,B=(new Date).getTime();l(n,C,O,(function(t){var e=n.transformState,i=e.scale,o=e.positionX,u=e.positionY,l=((new Date).getTime()-B)/E,h=1-(0,a[v.animationType])(Math.min(1,l)),g=1-t,S=o+r*g,w=u+s*g,C=P(S,M.positionX,o,b,d,p,c,A,k,h),T=P(w,M.positionY,u,y,d,m,f,I,W,h);o===S&&u===w||n.setTransformState(i,C,T)}))}}(n):x(n)}}function O(n,t,e,i){var r=n.setup,a=r.minScale,s=r.maxScale,u=r.limitToBounds,l=h(o(t,2),a,s,0,!1),c=v(n,e,i,l,m(n,l),u);return{scale:l,positionX:c.x,positionY:c.y}}function X(n,t,e){var i=n.transformState.scale,o=n.wrapperComponent,r=n.setup,a=r.minScale,s=r.limitToBounds,u=r.zoomAnimation,l=u.disabled,p=u.animationTime,f=u.animationType,m=l||i>=a;if((i>=1||s)&&x(n),!m&&o&&n.mounted){var d=O(n,a,t||o.offsetWidth/2,e||o.offsetHeight/2);d&&c(n,d,p,f)}}var N=function(){return N=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},N.apply(this,arguments)};function z(n,t,e){if(e||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return n.concat(i||Array.prototype.slice.call(t))}var D=1,k=0,A=0,W={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},I=function(n){var t,e,i,o;return{previousScale:null!==(t=n.initialScale)&&void 0!==t?t:D,scale:null!==(e=n.initialScale)&&void 0!==e?e:D,positionX:null!==(i=n.initialPositionX)&&void 0!==i?i:k,positionY:null!==(o=n.initialPositionY)&&void 0!==o?o:A}},M=function(n){var t=N({},W);return Object.keys(n).forEach((function(e){var i=void 0!==n[e];if(void 0!==W[e]&&i){var o=Object.prototype.toString.call(W[e]),r="[object Object]"===o,a="[object Array]"===o;t[e]=r?N(N({},W[e]),n[e]):a?z(z([],W[e],!0),n[e],!0):n[e]}})),t},B=function(n,t,e){var i=n.transformState.scale,r=n.wrapperComponent,a=n.setup,s=a.maxScale,u=a.minScale,l=a.zoomAnimation.size;if(!r)throw new Error("Wrapper is not mounted");var c=i*Math.exp(t*e);return h(o(c,3),u,s,l,!1)};function j(n,t,e,i,o){var r=n.wrapperComponent,a=n.transformState,s=a.scale,u=a.positionX,l=a.positionY;if(!r)return console.error("No WrapperComponent found");var p=(r.offsetWidth/2-u)/s,f=(r.offsetHeight/2-l)/s,m=O(n,B(n,t,e),p,f);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");c(n,m,i,o)}function K(n,t,e,i){var o=n.setup,r=n.wrapperComponent,a=o.limitToBounds,s=I(n.props),u=n.transformState,l=u.scale,f=u.positionX,m=u.positionY;if(r){var v=p(n,s.scale),h=d(s.positionX,s.positionY,v,a,0,0,r),g={scale:s.scale,positionX:h.x,positionY:h.y};l===s.scale&&f===s.positionX&&m===s.positionY||(null==i||i(),c(n,g,t,e))}}var L=function(n){return function(t,e,i){void 0===t&&(t=.5),void 0===e&&(e=300),void 0===i&&(i="easeOut"),j(n,1,t,e,i)}},H=function(n){return function(t,e,i){void 0===t&&(t=.5),void 0===e&&(e=300),void 0===i&&(i="easeOut"),j(n,-1,t,e,i)}},Z=function(n){return function(t,e,i,o,r){void 0===o&&(o=300),void 0===r&&(r="easeOut");var a=n.transformState,s=a.positionX,u=a.positionY,l=a.scale,p=n.wrapperComponent,f=n.contentComponent;if(!n.setup.disabled&&p&&f){var m={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(e)?u:e,scale:Number.isNaN(i)?l:i};c(n,m,o,r)}}},R=function(n){return function(t,e){void 0===t&&(t=200),void 0===e&&(e="easeOut"),K(n,t,e)}},_=function(n){return function(t,e,i){void 0===e&&(e=200),void 0===i&&(i="easeOut");var o=n.transformState,r=n.wrapperComponent,a=n.contentComponent;if(r&&a){var s=J(t||o.scale,r,a);c(n,s,e,i)}}},F=function(n){return function(t,e,i,o){void 0===i&&(i=600),void 0===o&&(o="easeOut"),u(n);var r=n.wrapperComponent,a="string"==typeof t?document.getElementById(t):t;if(r&&a&&r.contains(a)){var s=function(n,t,e){var i=n.wrapperComponent,o=n.contentComponent,r=n.transformState,a=n.setup,s=a.limitToBounds,u=a.minScale,l=a.maxScale;if(!i||!o)return r;var c,f,m,v,g,y,S,b,w=i.getBoundingClientRect(),P=t.getBoundingClientRect(),C=(c=i,f=o,m=r,v=t.getBoundingClientRect(),g=c.getBoundingClientRect(),y=f.getBoundingClientRect(),S=g.x*m.scale,b=g.y*m.scale,{x:(v.x-y.x+S)/m.scale,y:(v.y-y.y+b)/m.scale}),T=C.x,x=C.y,E=P.width/r.scale,Y=P.height/r.scale,O=i.offsetWidth/E,X=i.offsetHeight/Y,N=h(e||Math.min(O,X),u,l,0,!1),z=(w.width-E*N)/2,D=(w.height-Y*N)/2,k=d((w.left-T)*N+z,(w.top-x)*N+D,p(n,N),s,0,0,i);return{positionX:k.x,positionY:k.y,scale:N}}(n,a,e);c(n,s,i,o)}}},Q=function(n){return{instance:n,state:n.transformState,zoomIn:L(n),zoomOut:H(n),setTransform:Z(n),resetTransform:R(n),centerView:_(n),zoomToElement:F(n)}};function q(){try{return{get passive(){return!0,!1}}}catch(n){return!1}}var U=function(n,t){var e=n.tagName.toUpperCase();return!!t.find((function(n){return n.toUpperCase()===e}))||!!t.find((function(t){return n.classList.contains(t)}))},V=function(n){n&&clearTimeout(n)},J=function(n,t,e){var i=e.offsetWidth*n,o=e.offsetHeight*n;return{scale:n,positionX:(t.offsetWidth-i)/2,positionY:(t.offsetHeight-o)/2}};function $(n,t,e){var i=t.getBoundingClientRect(),o=0,r=0;if("clientX"in n)o=(n.clientX-i.left)/e,r=(n.clientY-i.top)/e;else{var a=n.touches[0];o=(a.clientX-i.left)/e,r=(a.clientY-i.top)/e}return(Number.isNaN(o)||Number.isNaN(r))&&console.error("No mouse or touch offset found"),{x:o,y:r}}var G=function(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))},nn=function(n,t){var e=n.props,i=e.onWheel,a=e.onZoom,s=n.contentComponent,u=n.setup,l=n.transformState.scale,c=u.limitToBounds,p=u.centerZoomedOut,f=u.zoomAnimation,d=u.wheel,g=u.disablePadding,y=f.size,S=f.disabled,b=d.step;if(!s)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var w=function(n,t){var e,i,o=function(n){return n?n.deltaY<0?1:-1:0}(n);return i=o,"number"==typeof(e=t)?e:i}(t,null),P=function(n,t,e,i,r){var a=n.transformState.scale,s=n.wrapperComponent,u=n.setup,l=u.maxScale,c=u.minScale,p=u.zoomAnimation,f=u.disablePadding,m=p.size,d=p.disabled;if(!s)throw new Error("Wrapper is not mounted");var v=a+t*(a-a*e)*e;if(r)return v;var g=!i&&!d;return h(o(v,3),c,l,m,g&&!f)}(n,w,b,!t.ctrlKey);if(l!==P){var C=m(n,P),T=$(t,s,l),x=c&&(S||0===y||p||g),E=v(n,T.x,T.y,P,C,x),Y=E.x,O=E.y;n.previousWheelEvent=t,n.setTransformState(P,Y,O),r(Q(n),t,i),r(Q(n),t,a)}},tn=function(n,t){var e=n.props,i=e.onWheelStop,o=e.onZoomStop;V(n.wheelAnimationTimer),n.wheelAnimationTimer=setTimeout((function(){n.mounted&&(X(n,t.x,t.y),n.wheelAnimationTimer=null)}),100);var a=function(n,t){var e=n.previousWheelEvent,i=n.transformState.scale,o=n.setup,r=o.maxScale,a=o.minScale;return!!e&&(i<r||i>a||Math.sign(e.deltaY)!==Math.sign(t.deltaY)||e.deltaY>0&&e.deltaY<t.deltaY||e.deltaY<0&&e.deltaY>t.deltaY||Math.sign(e.deltaY)!==Math.sign(t.deltaY))}(n,t);a&&(V(n.wheelStopEventTimer),n.wheelStopEventTimer=setTimeout((function(){n.mounted&&(n.wheelStopEventTimer=null,r(Q(n),t,i),r(Q(n),t,o))}),160))},en=function(n,t){var e=n.contentComponent,i=n.pinchStartDistance,r=n.transformState.scale,a=n.setup,s=a.limitToBounds,u=a.centerZoomedOut,l=a.zoomAnimation,c=l.disabled,p=l.size;if(null!==i&&e){var f=function(n,t,e){var i=e.getBoundingClientRect(),r=n.touches,a=o(r[0].clientX-i.left,5),s=o(r[0].clientY-i.top,5);return{x:(a+o(r[1].clientX-i.left,5))/2/t,y:(s+o(r[1].clientY-i.top,5))/2/t}}(t,r,e);if(Number.isFinite(f.x)&&Number.isFinite(f.y)){var d=G(t),g=function(n,t){var e=n.pinchStartScale,i=n.pinchStartDistance,r=n.setup,a=r.maxScale,s=r.minScale,u=r.zoomAnimation,l=r.disablePadding,c=u.size,p=u.disabled;if(!e||null===i||!t)throw new Error("Pinch touches distance was not provided");return t<0?n.transformState.scale:h(o(t/i*e,2),s,a,c,!p&&!l)}(n,d);if(g!==r){var y=m(n,g),S=s&&(c||0===p||u),b=v(n,f.x,f.y,g,y,S),w=b.x,P=b.y;n.pinchMidpoint=f,n.lastDistance=d,n.setTransformState(g,w,P)}}}},on=function(n,t){var e=n.props.onZoomStop,i=n.setup.doubleClick.animationTime;V(n.doubleClickStopEventTimer),n.doubleClickStopEventTimer=setTimeout((function(){n.doubleClickStopEventTimer=null,r(Q(n),t,e)}),i)};function rn(n,t){var e=n.setup,i=n.doubleClickStopEventTimer,o=n.transformState,a=n.contentComponent,s=o.scale,u=n.props,l=u.onZoomStart,p=u.onZoom,f=e.doubleClick,m=f.disabled,d=f.mode,v=f.step,h=f.animationTime,g=f.animationType;if(!m&&!i){if("reset"===d)return function(n,t){var e=n.props,i=e.onZoomStart,o=e.onZoom,a=n.setup.doubleClick,s=a.animationTime,u=a.animationType;r(Q(n),t,i),K(n,s,u,(function(){return r(Q(n),t,o)})),on(n,t)}(n,t);if(!a)return console.error("No ContentComponent found");var y=B(n,"zoomOut"===d?-1:1,v);if(s!==y){r(Q(n),t,l);var S=$(t,a,s),b=O(n,y,S.x,S.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");r(Q(n),t,p),c(n,b,h,g),on(n,t)}}}var an=function(n){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(n){m(t,t.transformState.scale),t.setup=M(n)},this.initializeWindowEvents=function(){var n,e=q(),i=null===(n=t.wrapperComponent)||void 0===n?void 0:n.ownerDocument,o=null==i?void 0:i.defaultView;null==o||o.addEventListener("mousedown",t.onPanningStart,e),null==o||o.addEventListener("mousemove",t.onPanning,e),null==o||o.addEventListener("mouseup",t.onPanningStop,e),null==i||i.addEventListener("mouseleave",t.clearPanning,e),null==o||o.addEventListener("keyup",t.setKeyUnPressed,e),null==o||o.addEventListener("keydown",t.setKeyPressed,e)},this.cleanupWindowEvents=function(){var n,e,i=q(),o=null===(n=t.wrapperComponent)||void 0===n?void 0:n.ownerDocument,r=null==o?void 0:o.defaultView;null==r||r.removeEventListener("mousedown",t.onPanningStart,i),null==r||r.removeEventListener("mousemove",t.onPanning,i),null==r||r.removeEventListener("mouseup",t.onPanningStop,i),null==o||o.removeEventListener("mouseleave",t.clearPanning,i),null==r||r.removeEventListener("keyup",t.setKeyUnPressed,i),null==r||r.removeEventListener("keydown",t.setKeyPressed,i),document.removeEventListener("mouseleave",t.clearPanning,i),u(t),null===(e=t.observer)||void 0===e||e.disconnect()},this.handleInitializeWrapperEvents=function(n){var e=q();n.addEventListener("wheel",t.onWheelZoom,e),n.addEventListener("dblclick",t.onDoubleClick,e),n.addEventListener("touchstart",t.onTouchPanningStart,e),n.addEventListener("touchmove",t.onTouchPanning,e),n.addEventListener("touchend",t.onTouchPanningStop,e)},this.handleInitialize=function(n){var e=t.setup.centerOnInit;t.applyTransformation(),e&&(t.setCenter(),t.observer=new ResizeObserver((function(){var n;t.setCenter(),null===(n=t.observer)||void 0===n||n.disconnect()})),t.observer.observe(n))},this.onWheelZoom=function(n){if(!t.setup.disabled){var e=function(n,t){var e=n.setup.wheel,i=e.disabled,o=e.wheelDisabled,r=e.touchPadDisabled,a=e.excluded,s=n.isInitialized,u=n.isPanning,l=t.target;return!(!s||u||i||!l||o&&!t.ctrlKey||r&&t.ctrlKey||U(l,a))}(t,n);e&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(n,t){var e=n.props,i=e.onWheelStart,o=e.onZoomStart;n.wheelStopEventTimer||(u(n),r(Q(n),t,i),r(Q(n),t,o))}(t,n),nn(t,n),tn(t,n))}},this.onPanningStart=function(n){var e=t.setup.disabled,i=t.props.onPanningStart;e||g(t,n)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(n.preventDefault(),n.stopPropagation(),u(t),T(t,n),r(Q(t),n,i))},this.onPanning=function(n){var e=t.setup.disabled,i=t.props.onPanning;e||y(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(n.preventDefault(),n.stopPropagation(),E(t,n.clientX,n.clientY),r(Q(t),n,i))},this.onPanningStop=function(n){var e=t.props.onPanningStop;t.isPanning&&(Y(t),r(Q(t),n,e))},this.onPinchStart=function(n){var e=t.setup.disabled,i=t.props,o=i.onPinchingStart,a=i.onZoomStart;if(!e){var s=function(n,t){var e=n.setup.pinch,i=e.disabled,o=e.excluded,r=n.isInitialized,a=t.target;return!(!r||i||!a||U(a,o))}(t,n);s&&(function(n,t){var e=G(t);n.pinchStartDistance=e,n.lastDistance=e,n.pinchStartScale=n.transformState.scale,n.isPanning=!1,u(n)}(t,n),u(t),r(Q(t),n,o),r(Q(t),n,a))}},this.onPinch=function(n){var e=t.setup.disabled,i=t.props,o=i.onPinching,a=i.onZoom;if(!e){var s=function(n){var t=n.setup.pinch.disabled,e=n.isInitialized,i=n.pinchStartDistance;return!(!e||t||!i)}(t);s&&(n.preventDefault(),n.stopPropagation(),en(t,n),r(Q(t),n,o),r(Q(t),n,a))}},this.onPinchStop=function(n){var e,i,o=t.props,a=o.onPinchingStop,s=o.onZoomStop;t.pinchStartScale&&(i=(e=t).pinchMidpoint,e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,X(e,null==i?void 0:i.x,null==i?void 0:i.y),r(Q(t),n,a),r(Q(t),n,s))},this.onTouchPanningStart=function(n){var e=t.setup.disabled,i=t.props.onPanningStart;if(!e&&g(t,n))if(t.lastTouch&&+new Date-t.lastTouch<200&&1===n.touches.length)t.onDoubleClick(n);else{t.lastTouch=+new Date,u(t);var o=n.touches,a=1===o.length,s=2===o.length;a&&(u(t),T(t,n),r(Q(t),n,i)),s&&t.onPinchStart(n)}},this.onTouchPanning=function(n){var e=t.setup.disabled,i=t.props.onPanning;if(t.isPanning&&1===n.touches.length){if(e)return;if(!y(t))return;n.preventDefault(),n.stopPropagation();var o=n.touches[0];E(t,o.clientX,o.clientY),r(Q(t),n,i)}else n.touches.length>1&&t.onPinch(n)},this.onTouchPanningStop=function(n){t.onPanningStop(n),t.onPinchStop(n)},this.onDoubleClick=function(n){if(!t.setup.disabled){var e=function(n,t){var e=n.isInitialized,i=n.setup,o=n.wrapperComponent,r=i.doubleClick,a=r.disabled,s=r.excluded,u=t.target,l=null==o?void 0:o.contains(u);return!(!(e&&u&&l)||a||U(u,s))}(t,n);e&&rn(t,n)}},this.clearPanning=function(n){t.isPanning&&t.onPanningStop(n)},this.setKeyPressed=function(n){t.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){t.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return!n.length||Boolean(n.find((function(n){return t.pressedKeys[n]})))},this.setTransformState=function(n,e,i){var o=t.props.onTransformed;if(Number.isNaN(n)||Number.isNaN(e)||Number.isNaN(i))console.error("Detected NaN set state values");else{n!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=n),t.transformState.positionX=e,t.transformState.positionY=i;var a=Q(t);t.onChangeCallbacks.forEach((function(n){return n(a)})),r(a,{scale:n,positionX:e,positionY:i},o),t.applyTransformation()}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var n=J(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,e,i){return t.props.customTransform?t.props.customTransform(n,e,i):function(n,t,e){return"translate(".concat(n,"px, ").concat(t,"px) scale(").concat(e,")")}(n,e,i)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var n=t.transformState,e=n.scale,i=n.positionX,o=n.positionY,r=t.handleTransformStyles(i,o,e);t.contentComponent.style.transform=r}},this.getContext=function(){return Q(t)},this.onChange=function(n){return t.onChangeCallbacks.has(n)||t.onChangeCallbacks.add(n),function(){t.onChangeCallbacks.delete(n)}},this.init=function(n,e){t.cleanupWindowEvents(),t.wrapperComponent=n,t.contentComponent=e,m(t,t.transformState.scale),t.handleInitializeWrapperEvents(n),t.handleInitialize(e),t.initializeWindowEvents(),t.isInitialized=!0,r(Q(t),void 0,t.props.onInit)},this.props=n,this.setup=M(this.props),this.transformState=I(this.props)},sn=i.createContext(null),un=i.forwardRef((function(n,t){var e=(0,i.useState)(0)[1],o=n.children,r=(0,i.useRef)(new an(n)).current,a=function(n,t){return"function"==typeof n?n(t):n}(n.children,Q(r)),s=(0,i.useCallback)((function(){"function"==typeof o&&e((function(n){return n+1}))}),[o]);return(0,i.useImperativeHandle)(t,(function(){return Q(r)}),[r]),(0,i.useEffect)((function(){r.update(n)}),[r,n]),(0,i.useEffect)((function(){return r.onChange(s)}),[r,n,s]),i.createElement(sn.Provider,{value:r},a)}));var ln="transform-component-module_wrapper__7HFJe",cn="transform-component-module_content__uCDPE";!function(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}(".transform-component-module_wrapper__7HFJe {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__uCDPE {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__uCDPE img {\n  pointer-events: none;\n}\n");var pn=function(n){var t=n.children,e=n.wrapperClass,o=void 0===e?"":e,r=n.contentClass,a=void 0===r?"":r,s=n.wrapperStyle,u=n.contentStyle,l=n.wrapperProps,c=void 0===l?{}:l,p=n.contentProps,f=void 0===p?{}:p,m=(0,i.useContext)(sn).init,d=(0,i.useRef)(null),v=(0,i.useRef)(null);return(0,i.useEffect)((function(){var n=d.current,t=v.current;null!==n&&null!==t&&m&&m(n,t)}),[]),i.createElement("div",N({},c,{ref:d,className:"react-transform-wrapper ".concat(ln," ").concat(o),style:s}),i.createElement("div",N({},f,{ref:v,className:"react-transform-component ".concat(cn," ").concat(a),style:u}),t))};i.forwardRef((function(n,t){var e,o=(0,i.useRef)(null),r=(0,i.useContext)(sn);return(0,i.useEffect)((function(){return r.onChange((function(n){if(o.current){o.current.style.transform=r.handleTransformStyles(0,0,1/n.state.scale)}}))}),[r]),i.createElement("div",N({},n,{ref:(e=[o,t],function(n){e.forEach((function(t){"function"==typeof t?t(n):null!=t&&(t.current=n)}))})}))}))}}]);